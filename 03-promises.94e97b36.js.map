{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAIpC,IAAIC,EACAC,EAJkBH,SAASC,cAAc,UAE/BG,iBAAiB,SAK/B,SAAkBC,GAChBA,EAAEC,iBACF,MAAMC,EAAkBR,EAAKS,SAAgB,MAGvCC,EAAiBV,EAAKS,SAAe,KAC3CL,EAAOO,OAAOD,EAAeE,OAE7B,MAAMC,EAAmBb,EAAKS,SAAiB,OAC/CK,EAASH,OAAOE,EAAiBD,OAEjC,IAAK,IAAIG,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAC/BC,QAAQC,IAAIH,GACZX,EAAW,EACXe,EAAQP,OAAOH,EAAgBI,OAE/BO,YAAW,KACTC,EAAcjB,EAAUe,GACxBA,GAASd,EACTD,GAAY,CAAC,GACZe,E,IAtBP,IACIA,EADAJ,EAAS,EA0Bb,SAASM,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCN,YAAW,KACT,GAAII,EACF,OAAO,IAAIG,SAAQC,KAQzB,UAAoBC,SAAAC,EAAUC,MAAAC,IAC5BjC,EAAAkC,OAAOC,QAAQ,uBAAqBJ,QAAiBE,M,CAR/CG,CAAS,CAAEN,SAAAP,EAAUS,MAAAR,GAAQ,KAWrC,UAAmBM,SAAAO,EAAUL,MAAAM,IAC3BtC,EAAAkC,OAAOK,QAAQ,sBAAoBF,QAAeC,M,CAThDE,CAAQ,CAAEV,SAAAP,EAAUS,MAAAR,GAAQ,GAC3BA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst btnCreateProm = document.querySelector('button');\n\nbtnCreateProm.addEventListener('click', onSubmit);\nlet position;\nlet step;\nlet amount = 0;\nlet delay;\nfunction onSubmit(e) {\n  e.preventDefault();\n  const inputDelayValue = form.elements['delay'];\n  // delay = Number(inputDelayValue.value);\n\n  const inputStepValue = form.elements['step'];\n  step = Number(inputStepValue.value);\n\n  const inputAmountValue = form.elements['amount'];\n  amount = Number(inputAmountValue.value);\n\n  for (let i = 0; i < amount; i += 1) {\n    console.log(amount);\n    position = 1;\n    delay = Number(inputDelayValue.value);\n\n    setTimeout(() => {\n      createPromise(position, delay);\n      delay += step;\n      position += 1;\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => {\n    if (shouldResolve) {\n      return new Promise(resolve => {\n        onSucces({ position, delay });\n      });\n    }\n    onError({ position, delay });\n  }, delay);\n}\n\nfunction onSucces({ position, delay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$position","$47d4ff9957288465$var$step","addEventListener","e","preventDefault","inputDelayValue","elements","inputStepValue","Number","value","inputAmountValue","$47d4ff9957288465$var$amount","i","console","log","$47d4ff9957288465$var$delay","setTimeout","$47d4ff9957288465$var$createPromise","position1","delay1","shouldResolve","Math","random","Promise","resolve","position","position2","delay","delay2","Notify","success","$47d4ff9957288465$var$onSucces","position3","delay3","failure","$47d4ff9957288465$var$onError"],"version":3,"file":"03-promises.94e97b36.js.map"}
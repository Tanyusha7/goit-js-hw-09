{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAIpC,IAAIC,EACAC,EA0BJ,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACT,GAAIH,EACF,OAAO,IAAII,SAAQC,KAQzB,UAAoBC,SAAAC,EAAQR,MAAEA,IAC5BT,EAAAkB,OAAOC,QAAQ,uBAAqBF,QAAiBR,M,CAR/CW,CAAS,CAAEJ,SAAAR,E,MAAUC,GAAQ,KAWrC,UAAmBO,SAAAK,EAAQZ,MAAEA,IAC3BT,EAAAkB,OAAOI,QAAQ,sBAAoBD,QAAeZ,M,CAThDc,CAAQ,CAAEP,SAAAR,E,MAAUC,GAAQ,GAC3BA,E,CAvCiBN,SAASC,cAAc,UAE/BoB,iBAAiB,SAI/B,SAAkBC,GAChBA,EAAEC,iBACF,MAAMC,EAAkBzB,EAAK0B,SAAgB,MAGvCC,EAAiB3B,EAAK0B,SAAe,KAC3CtB,EAAOwB,OAAOD,EAAeE,OAE7B,MAAMC,EAAmB9B,EAAK0B,SAAiB,OAC/CK,OAASH,OAAOE,EAAiBD,OAEjC,IAAK,IAAIG,EAAI,EAAGA,EAAID,OAAQC,GAAK,EAC/BC,QAAQC,IAAIH,QACZ5B,EAAW,EACXI,MAAQqB,OAAOH,EAAgBI,OAE/BlB,YAAW,KACTN,EAAcF,EAAUI,OACxBA,OAASH,EACTD,GAAY,CAAC,GACZI,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst btnCreateProm = document.querySelector('button');\n\nbtnCreateProm.addEventListener('click', onSubmit);\nlet position;\nlet step;\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const inputDelayValue = form.elements['delay'];\n  // delay = Number(inputDelayValue.value);\n\n  const inputStepValue = form.elements['step'];\n  step = Number(inputStepValue.value);\n\n  const inputAmountValue = form.elements['amount'];\n  amount = Number(inputAmountValue.value);\n\n  for (let i = 0; i < amount; i += 1) {\n    console.log(amount);\n    position = 1;\n    delay = Number(inputDelayValue.value);\n\n    setTimeout(() => {\n      createPromise(position, delay);\n      delay += step;\n      position += 1;\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => {\n    if (shouldResolve) {\n      return new Promise(resolve => {\n        onSucces({ position, delay });\n      });\n    }\n    onError({ position, delay });\n  }, delay);\n}\n\nfunction onSucces({ position, delay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$position","$47d4ff9957288465$var$step","$47d4ff9957288465$var$createPromise","position1","delay","shouldResolve","Math","random","setTimeout","Promise","resolve","position","position2","Notify","success","$47d4ff9957288465$var$onSucces","position3","failure","$47d4ff9957288465$var$onError","addEventListener","e","preventDefault","inputDelayValue","elements","inputStepValue","Number","value","inputAmountValue","amount","i","console","log"],"version":3,"file":"03-promises.89eb0346.js.map"}
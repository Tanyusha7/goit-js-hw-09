{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAgBF,SAASC,cAAc,UAmB7C,SAASE,EAAcC,EAAUC,EAAOC,GAGtC,OADAF,EAAW,EACJ,IAAIG,SAAQ,WACjB,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,QAAQC,IAAIC,QACZF,QAAQC,IAAIP,GACZM,QAAQC,IAAIN,GACZ,IAAK,IAAIQ,EAAI,EAAGA,EAAID,OAAQC,GAAK,EAC/BH,QAAQC,IAAIE,GACZV,GAAY,EACZC,GAASC,EACTS,YACE,WAEE,GADAV,GAASC,EACLE,EACF,OAAOQ,EAAS,CAAEC,SAAAb,EAAUC,UAE9Ba,EAAQ,CAAED,SAAAb,EAAUC,S,GAGtBA,EACAC,E,IAQR,SAASU,EAASG,G,IAAEC,EAAFD,EAAEF,SAAUZ,EAAZc,EAAYd,MAC5BR,EAAAwB,OAAOC,QAAQ,uBAAwCC,OAAfH,EAAS,QAAYG,OAANlB,EAAM,M,CAG/D,SAASa,EAAQC,G,IAAEK,EAAFL,EAAEF,SAAUZ,EAAZc,EAAYd,MAC3BR,EAAAwB,OAAOI,QAAQ,sBAAqCF,OAAfC,EAAS,QAAYD,OAANlB,EAAM,M,CArD5DM,QAAQe,IAAI3B,GAEZG,EAAcyB,iBAAiB,SAE/B,SAAkBC,GAChBA,EAAEC,iBACF,IAAMC,EAAkB/B,EAAKgC,SAAgB,MAC7C1B,MAAQ2B,OAAOF,EAAgBG,OAE/B,IAAMC,EAAiBnC,EAAKgC,SAAe,KAC3CzB,KAAO0B,OAAOE,EAAeD,OAE7B,IAAME,EAAmBpC,EAAKgC,SAAiB,OAC/ClB,OAASmB,OAAOG,EAAiBF,OAEjC9B,EAZEiC,UAYsB/B,MAAOC,K,IA+BjCH,IAAgBkC,KAAKrB,GAAUsB,MAAMpB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst btnCreateProm = document.querySelector('button');\nconsole.dir(form);\n\nbtnCreateProm.addEventListener('click', onSubmit);\nlet position;\nfunction onSubmit(e) {\n  e.preventDefault();\n  const inputDelayValue = form.elements['delay'];\n  delay = Number(inputDelayValue.value);\n\n  const inputStepValue = form.elements['step'];\n  step = Number(inputStepValue.value);\n  // console.log(step);\n  const inputAmountValue = form.elements['amount'];\n  amount = Number(inputAmountValue.value);\n  // console.log(amount);\n  createPromise(position, delay, step);\n}\n\nfunction createPromise(position, delay, step) {\n  // delay = delay;\n  position = 0;\n  return new Promise(() => {\n    const shouldResolve = Math.random() > 0.3;\n    console.log(amount);\n    console.log(delay);\n    console.log(step);\n    for (let i = 0; i < amount; i += 1) {\n      console.log(i);\n      position += 1;\n      delay += step;\n      setTimeout(\n        () => {\n          delay += step;\n          if (shouldResolve) {\n            return onSucces({ position, delay });\n          }\n          onError({ position, delay });\n          // reject(`❌ Rejected promise ${position} in ${delay}ms`);\n        },\n        delay,\n        step\n      );\n    }\n  });\n}\n\ncreatePromise().then(onSucces).catch(onError);\n\nfunction onSucces({ position, delay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$btnCreateProm","$ce04d3a99e08e73b$var$createPromise","position1","delay","step","Promise","shouldResolve","Math","random","console","log","amount","i","setTimeout","$ce04d3a99e08e73b$var$onSucces","position","$ce04d3a99e08e73b$var$onError","param","position2","Notify","success","concat","position3","failure","dir","addEventListener","e","preventDefault","inputDelayValue","elements","Number","value","inputStepValue","inputAmountValue","$ce04d3a99e08e73b$var$position","then","catch"],"version":3,"file":"03-promises.4bbb70dc.js.map"}
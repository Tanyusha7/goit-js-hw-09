{"mappings":"gfAAA,IAMIA,EACAC,EAPJC,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SA+BpC,SAASC,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACT,GAAIH,EACF,OAAO,IAAII,SAAQ,SAAAC,IAQzB,SAAkBC,G,IAAEC,EAAFD,EAAEE,SAAUT,EAAZO,EAAYP,MAC5BP,EAAAiB,OAAOC,QAAQ,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANZ,EAAM,M,CARvDa,CAAS,CAAEJ,SAAAV,EAAUC,S,KAW7B,SAAiBO,G,IAAEO,EAAFP,EAAEE,SAAUT,EAAZO,EAAYP,MAC3BP,EAAAiB,OAAOK,QAAQ,sBAAqCH,OAAfE,EAAS,QAAYF,OAANZ,EAAM,M,CATxDgB,CAAQ,CAAEP,SAAAV,EAAUC,S,GACnBA,E,CAvCiBJ,SAASC,cAAc,UAE/BoB,iBAAiB,SAI/B,SAAkBC,GAChBA,EAAEC,iBACF,IAAMC,EAAkBzB,EAAK0B,SAAgB,MAGvCC,EAAiB3B,EAAK0B,SAAe,KAC3C7B,EAAO+B,OAAOD,EAAeE,OAE7B,IAAMC,EAAmB9B,EAAK0B,SAAiB,OAC/CK,OAASH,OAAOE,EAAiBD,OAEjC,IAAK,IAAIG,EAAI,EAAGA,EAAID,OAAQC,GAAK,EAC/BC,QAAQC,IAAIH,QACZnC,EAAW,EACXS,MAAQuB,OAAOH,EAAgBI,OAE/BpB,YAAW,WACTN,EAAcP,EAAUS,OACxBA,OAASR,EACTD,GAAY,C,GACXS,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst btnCreateProm = document.querySelector('button');\n\nbtnCreateProm.addEventListener('click', onSubmit);\nlet position;\nlet step;\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const inputDelayValue = form.elements['delay'];\n  // delay = Number(inputDelayValue.value);\n\n  const inputStepValue = form.elements['step'];\n  step = Number(inputStepValue.value);\n\n  const inputAmountValue = form.elements['amount'];\n  amount = Number(inputAmountValue.value);\n\n  for (let i = 0; i < amount; i += 1) {\n    console.log(amount);\n    position = 1;\n    delay = Number(inputDelayValue.value);\n\n    setTimeout(() => {\n      createPromise(position, delay);\n      delay += step;\n      position += 1;\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => {\n    if (shouldResolve) {\n      return new Promise(resolve => {\n        onSucces({ position, delay });\n      });\n    }\n    onError({ position, delay });\n  }, delay);\n}\n\nfunction onSucces({ position, delay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$step","$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position1","delay","shouldResolve","Math","random","setTimeout","Promise","resolve","param","position2","position","Notify","success","concat","$ce04d3a99e08e73b$var$onSucces","position3","failure","$ce04d3a99e08e73b$var$onError","addEventListener","e","preventDefault","inputDelayValue","elements","inputStepValue","Number","value","inputAmountValue","amount","i","console","log"],"version":3,"file":"03-promises.f7d76b6b.js.map"}
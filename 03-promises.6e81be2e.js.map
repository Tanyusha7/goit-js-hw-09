{"mappings":"gfAAA,IAMIA,EACAC,EAPJC,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SACdD,SAASC,cAAc,UAE/BC,iBAAiB,SAK/B,SAAkBC,GAChBA,EAAEC,iBACF,IAAMC,EAAkBN,EAAKO,SAAgB,MAGvCC,EAAiBR,EAAKO,SAAe,KAC3CV,EAAOY,OAAOD,EAAeE,OAE7B,IAAMC,EAAmBX,EAAKO,SAAiB,OAC/CK,EAASH,OAAOE,EAAiBD,OAEjC,IAAK,IAAIG,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAC/BC,QAAQC,IAAIH,GACZhB,EAAW,EACXoB,EAAQP,OAAOH,EAAgBI,OAE/BO,YAAW,WAQf,IAAuBC,EAAUC,EACzBC,EADeF,EAPHtB,EAOauB,EAPHH,EAQtBI,EAAgBC,KAAKC,SAAW,GACtCL,YAAW,WACT,GAAIG,EACF,OAAO,IAAIG,SAAQ,SAAAC,GAQzB,IAAkBC,EAAEC,EAAUC,EAAVD,GAAFD,EAPD,CAAEG,SAAAV,EAAUW,MAAAV,IAOTS,SAAUD,EAAZF,EAAYI,MAC5B/B,EAAAgC,OAAOC,QAAQ,uBAAwCC,OAAfN,EAAS,QAAYM,OAANL,EAAM,M,IAG/D,IAAiBF,EAAEQ,EAAUC,EAAVD,GAAFR,EARL,CAAEG,SAAAV,EAAUW,MAAAV,IAQLS,SAAUM,EAAZT,EAAYI,MAC3B/B,EAAAgC,OAAOK,QAAQ,sBAAqCH,OAAfC,EAAS,QAAYD,OAANE,EAAM,M,GARvDf,GAfCH,GAASnB,EACTD,GAAY,C,GACXoB,E,IAtBP,IACIA,EADAJ,EAAS,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst btnCreateProm = document.querySelector('button');\n\nbtnCreateProm.addEventListener('click', onSubmit);\nlet position;\nlet step;\nlet amount = 0;\nlet delay;\nfunction onSubmit(e) {\n  e.preventDefault();\n  const inputDelayValue = form.elements['delay'];\n  // delay = Number(inputDelayValue.value);\n\n  const inputStepValue = form.elements['step'];\n  step = Number(inputStepValue.value);\n\n  const inputAmountValue = form.elements['amount'];\n  amount = Number(inputAmountValue.value);\n\n  for (let i = 0; i < amount; i += 1) {\n    console.log(amount);\n    position = 1;\n    delay = Number(inputDelayValue.value);\n\n    setTimeout(() => {\n      createPromise(position, delay);\n      delay += step;\n      position += 1;\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => {\n    if (shouldResolve) {\n      return new Promise(resolve => {\n        onSucces({ position, delay });\n      });\n    }\n    onError({ position, delay });\n  }, delay);\n}\n\nfunction onSucces({ position, delay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$step","$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","addEventListener","e","preventDefault","inputDelayValue","elements","inputStepValue","Number","value","inputAmountValue","$ce04d3a99e08e73b$var$amount","i","console","log","$ce04d3a99e08e73b$var$delay","setTimeout","position1","delay1","shouldResolve","Math","random","Promise","resolve","param","position2","delay2","position","delay","Notify","success","concat","position3","delay3","failure"],"version":3,"file":"03-promises.6e81be2e.js.map"}